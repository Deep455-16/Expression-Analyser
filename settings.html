<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings - Expression Analyser</title>
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="container">
      <div class="nav-brand">
        <div class="logo-icon">
          <i class="fas fa-smile-beam"></i>
        </div>
        <span class="brand-name">Expression Analyser</span>
      </div>
      <ul class="nav-menu" id="navMenu">
        <li><a href="index.html">Home</a></li>
        <li><a href="live.html">Live Analysis</a></li>
        <li><a href="upload.html">Upload</a></li>
        <li><a href="dashboard.html">Dashboard</a></li>
        <li><a href="settings.html" class="active">Settings</a></li>
      </ul>
      <button class="mobile-toggle" id="mobileToggle">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </nav>

  <!-- Settings Page -->
  <div class="page-container">
    <div class="page-header">
      <h1><i class="fas fa-cog"></i> Settings</h1>
    </div>

    <div class="settings-layout">
      <!-- Settings Navigation -->
      <aside class="settings-nav">
        <button class="settings-nav-item active" data-section="general">
          <i class="fas fa-cog"></i> General
        </button>
        <button class="settings-nav-item" data-section="analysis">
          <i class="fas fa-brain"></i> Analysis
        </button>
        <button class="settings-nav-item" data-section="camera">
          <i class="fas fa-video"></i> Camera
        </button>
        <button class="settings-nav-item" data-section="export">
          <i class="fas fa-download"></i> Export
        </button>
        <button class="settings-nav-item" data-section="privacy">
          <i class="fas fa-shield-alt"></i> Privacy
        </button>
        <button class="settings-nav-item" data-section="about">
          <i class="fas fa-info-circle"></i> About
        </button>
      </aside>

      <!-- Settings Content -->
      <div class="settings-content">
        <!-- General Settings -->
        <section class="settings-section active" id="general">
          <h2>General Settings</h2>
          
          <div class="settings-card">
            <h3>Appearance</h3>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Theme</strong>
                <p>Choose your preferred color scheme</p>
              </div>
              <select id="theme">
                <option value="dark">Dark</option>
                <option value="light">Light</option>
                <option value="auto">Auto (System)</option>
              </select>
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Accent Color</strong>
                <p>Customize the interface accent color</p>
              </div>
              <div class="color-picker">
                <input type="color" id="accentColor" value="#6ee7b7">
              </div>
            </div>
          </div>

          <div class="settings-card">
            <h3>Language & Region</h3>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Language</strong>
                <p>Select your preferred language</p>
              </div>
              <select id="language">
                <option value="en">English</option>
                <option value="es">Español</option>
                <option value="fr">Français</option>
                <option value="de">Deutsch</option>
                <option value="ja">日本語</option>
              </select>
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Date Format</strong>
                <p>How dates should be displayed</p>
              </div>
              <select id="dateFormat">
                <option value="mdy">MM/DD/YYYY</option>
                <option value="dmy">DD/MM/YYYY</option>
                <option value="ymd">YYYY-MM-DD</option>
              </select>
            </div>
          </div>

          <div class="settings-card">
            <h3>Notifications</h3>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Analysis Complete</strong>
                <p>Notify when analysis finishes</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" id="notifyComplete" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Low Confidence Alert</strong>
                <p>Alert when confidence drops below threshold</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" id="notifyLowConfidence">
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </section>

        <!-- Analysis Settings -->
        <section class="settings-section" id="analysis">
          <h2>Analysis Settings</h2>
          
          <div class="settings-card">
            <h3>Detection Parameters</h3>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Default Detection Rate</strong>
                <p>How often to analyze frames</p>
              </div>
              <select id="defaultDetectionRate">
                <option value="realtime">Real-time (every frame)</option>
                <option value="500">Every 500ms</option>
                <option value="1000" selected>Every 1 second</option>
                <option value="2000">Every 2 seconds</option>
              </select>
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Minimum Confidence</strong>
                <p>Ignore results below this threshold: <span id="minConfValue">50%</span></p>
              </div>
              <input type="range" id="minConfSlider" min="0" max="100" value="50" class="range-slider">
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Sensitivity</strong>
                <p>Detection sensitivity: <span id="sensitivityValue">70%</span></p>
              </div>
              <input type="range" id="sensitivitySlider" min="0" max="100" value="70" class="range-slider">
            </div>
          </div>

          <div class="settings-card">
            <h3>Emotion Classes</h3>
            <div class="emotion-toggles">
              <label class="checkbox-label">
                <input type="checkbox" checked> Happy
              </label>
              <label class="checkbox-label">
                <input type="checkbox" checked> Sad
              </label>
              <label class="checkbox-label">
                <input type="checkbox" checked> Angry
              </label>
              <label class="checkbox-label">
                <input type="checkbox" checked> Surprised
              </label>
              <label class="checkbox-label">
                <input type="checkbox" checked> Fear
              </label>
              <label class="checkbox-label">
                <input type="checkbox" checked> Disgust
              </label>
              <label class="checkbox-label">
                <input type="checkbox" checked> Neutral
              </label>
            </div>
          </div>

          <div class="settings-card">
            <h3>Advanced Options</h3>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Auto-Save Results</strong>
                <p>Automatically save analysis results</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" id="autoSave" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <strong>GPU Acceleration</strong>
                <p>Use GPU for faster processing (if available)</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" id="gpuAccel" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </section>

        <!-- Camera Settings -->
        <section class="settings-section" id="camera">
          <h2>Camera Settings</h2>
          
          <div class="settings-card">
            <h3>Video Input</h3>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Camera Device</strong>
                <p>Select your preferred camera</p>
              </div>
              <select id="cameraDevice">
                <option value="default">Default Camera</option>
              </select>
              <button class="btn btn-secondary btn-sm" id="detectCameras">
                <i class="fas fa-sync"></i> Detect Cameras
              </button>
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Resolution</strong>
                <p>Video capture resolution</p>
              </div>
              <select id="resolution">
                <option value="640x480">640 × 480 (VGA)</option>
                <option value="1280x720" selected>1280 × 720 (HD)</option>
                <option value="1920x1080">1920 × 1080 (Full HD)</option>
              </select>
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Frame Rate</strong>
                <p>Preferred FPS for camera capture</p>
              </div>
              <select id="fps">
                <option value="15">15 FPS</option>
                <option value="24">24 FPS</option>
                <option value="30" selected>30 FPS</option>
                <option value="60">60 FPS</option>
              </select>
            </div>
          </div>

          <div class="settings-card">
            <h3>Display Options</h3>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Show Face Overlay</strong>
                <p>Display face detection boxes</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" id="faceOverlay" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Mirror Video</strong>
                <p>Flip video horizontally</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" id="mirrorVideo" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </section>

        <!-- Export Settings -->
        <section class="settings-section" id="export">
          <h2>Export Settings</h2>
          
          <div class="settings-card">
            <h3>Default Export Format</h3>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Data Format</strong>
                <p>Preferred format for exporting data</p>
              </div>
              <select id="exportFormat">
                <option value="json">JSON</option>
                <option value="csv" selected>CSV</option>
                <option value="xlsx">Excel (XLSX)</option>
              </select>
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Include Timestamps</strong>
                <p>Add timestamp to exported filenames</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" id="includeTimestamp" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>

          <div class="settings-card">
            <h3>Data Management</h3>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Storage Used</strong>
                <p>Local storage for analysis history</p>
              </div>
              <div class="storage-info">
                <div class="storage-bar">
                  <div class="storage-fill" style="width: 35%"></div>
                </div>
                <span>3.5 MB / 10 MB</span>
              </div>
            </div>
            <div class="setting-item">
              <button class="btn btn-secondary">
                <i class="fas fa-download"></i> Export All Data
              </button>
              <button class="btn btn-danger">
                <i class="fas fa-trash"></i> Clear All Data
              </button>
            </div>
          </div>
        </section>

        <!-- Privacy Settings -->
        <section class="settings-section" id="privacy">
          <h2>Privacy & Security</h2>
          
          <div class="settings-card">
            <h3>Data Processing</h3>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Local Processing Only</strong>
                <p>All analysis happens in your browser</p>
              </div>
              <div class="info-badge">
                <i class="fas fa-check-circle"></i> Enabled by default
              </div>
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <strong>No Data Transmission</strong>
                <p>Your video/images never leave your device</p>
              </div>
              <div class="info-badge">
                <i class="fas fa-shield-alt"></i> Protected
              </div>
            </div>
          </div>

          <div class="settings-card">
            <h3>Session Management</h3>
            <div class="setting-item">
              <div class="setting-label">
                <strong>Auto-Clear History</strong>
                <p>Automatically clear history after sessions</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" id="autoClearHistory">
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <strong>History Retention</strong>
                <p>How long to keep analysis history</p>
              </div>
              <select id="historyRetention">
                <option value="session">Current session only</option>
                <option value="1">1 day</option>
                <option value="7" selected>7 days</option>
                <option value="30">30 days</option>
                <option value="forever">Forever</option>
              </select>
            </div>
          </div>
        </section>

        <!-- About Section -->
        <section class="settings-section" id="about">
          <h2>About</h2>
          
          <div class="settings-card">
            <div class="about-header">
              <div class="about-logo">
                <i class="fas fa-smile-beam fa-3x"></i>
              </div>
              <div>
                <h3>Expression Analyser</h3>
                <p class="version">Version 1.0.0</p>
              </div>
            </div>
            <p class="about-description">
              AI-powered expression analysis for online meetings and video content. 
              Built with modern web technologies for real-time emotion detection.
            </p>
          </div>

          <div class="settings-card">
            <h3>Technology Stack</h3>
            <div class="tech-list">
              <div class="tech-item">
                <i class="fas fa-code"></i>
                <span>HTML5, CSS3, JavaScript (ES6+)</span>
              </div>
              <div class="tech-item">
                <i class="fas fa-chart-bar"></i>
                <span>Chart.js for data visualization</span>
              </div>
              <div class="tech-item">
                <i class="fas fa-video"></i>
                <span>WebRTC for camera access</span>
              </div>
              <div class="tech-item">
                <i class="fas fa-brain"></i>
                <span>TensorFlow.js ready for ML models</span>
              </div>
            </div>
          </div>

          <div class="settings-card">
            <h3>System Information</h3>
            <div class="info-grid">
              <div class="info-item">
                <strong>Browser:</strong>
                <span id="browserInfo">—</span>
              </div>
              <div class="info-item">
                <strong>Platform:</strong>
                <span id="platformInfo">—</span>
              </div>
              <div class="info-item">
                <strong>WebRTC Support:</strong>
                <span id="webrtcSupport">—</span>
              </div>
              <div class="info-item">
                <strong>WebGL Support:</strong>
                <span id="webglSupport">—</span>
              </div>
            </div>
          </div>

          <div class="settings-card">
            <h3>Links & Resources</h3>
            <div class="link-list">
              <a href="#" class="link-item">
                <i class="fas fa-book"></i> Documentation
              </a>
              <a href="#" class="link-item">
                <i class="fas fa-code-branch"></i> GitHub Repository
              </a>
              <a href="#" class="link-item">
                <i class="fas fa-bug"></i> Report an Issue
              </a>
              <a href="#" class="link-item">
                <i class="fas fa-heart"></i> Support the Project
              </a>
            </div>
          </div>
        </section>

        <!-- Save Button -->
        <div class="settings-actions">
          <button class="btn btn-secondary" id="resetSettings">
            <i class="fas fa-undo"></i> Reset to Defaults
          </button>
          <button class="btn btn-primary" id="saveSettings">
            <i class="fas fa-save"></i> Save Changes
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div class="toast" id="toast">
    <i class="fas fa-check-circle"></i>
    <span id="toastMessage">Settings saved successfully!</span>
  </div>

  <script src="scripts/main.js"></script>
  <script src="scripts/settings.js"></script>
</body>
</html>
